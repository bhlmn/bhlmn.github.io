<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      R Cheat Sheet &middot; b|hlmn
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="//public/css/poole.css">
  <link rel="stylesheet" href="//public/css/syntax.css">
  <link rel="stylesheet" href="//public/css/lanyon.css">
  <link rel="stylesheet" href="//public/css/custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="//public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="//public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
  
  <!-- Mathjax -->
  <script type="text/javascript"
            src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
  <script type="text/javascript" src="//public/js/mathjaxcustom.js"></script>
    
    <!--Disqus comment counts-->
    <script id="dsq-count-scr" src="//https-bhlmn-github-io.disqus.com/count.js" async></script>
    
  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>My name is Bryan. I blog about R and data science.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

      
      
        
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="//about.html">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="//archive.html">Archives</a>
          
        
      
        
      
        
          
            <a class="sidebar-nav-item" href="//categories.html">Categories</a>
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="https://twitter.com/bhlmn">Twitter</a>
      <a class="sidebar-nav-item" href="https://github.com/bhlmn">GitHub</a>
  </nav>

</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">b|hlmn</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="page">
  <h1 class="page-title">R Cheat Sheet</h1>
  <h1 id="introduction">Introduction</h1>

<p>I began using R in 2014. An off and on user, I typically used <a href="https://www.google.com/">google</a> and <a href="http://stackoverflow.com/questions/tagged/r">stackoverflow</a> for syntax related questions and help using specific functions and packages. In 2016 I decided to take my R skills to the next level, bought a couple of books, and decided to summarize what I learned on this site.</p>

<p>The books I have found most useful are:</p>

<ul>
  <li><a href="https://www.amazon.com/Action-Data-Analysis-Graphics/dp/1617291382/ref=dp_ob_title_bk">R In Action (RIA)</a> by Dr. Rob Kabacoff.</li>
</ul>

<h1 id="data-sctructures">Data Sctructures</h1>

<h2 id="matrices">Matrices</h2>

<p>See RIA 23</p>

<p><em>mymatrix = matrix(vector_of_values, nrow=number_of_rows, ncol=number_of_columns, byrow=TRUE/FALSE)</em></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mymatrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">mymatrix</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    2    3    4    5
## [2,]    6    7    8    9   10
## [3,]   11   12   13   14   15
## [4,]   16   17   18   19   20
## [5,]   21   22   23   24   25</code></pre></figure>

<p><strong>Note</strong>: The input vector <code class="highlighter-rouge">1:25</code> was fill for each row first. To do so with columns:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">mymatrix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">25</span><span class="p">,</span><span class="w"> </span><span class="n">nrow</span><span class="o">=</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="n">byrow</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">FALSE</span><span class="p">)</span><span class="w">
</span><span class="n">mymatrix</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##      [,1] [,2] [,3] [,4] [,5]
## [1,]    1    6   11   16   21
## [2,]    2    7   12   17   22
## [3,]    3    8   13   18   23
## [4,]    4    9   14   19   24
## [5,]    5   10   15   20   25</code></pre></figure>

<h2 id="factors">Factors</h2>

<p>See RIA 28</p>

<p>For <em>nominal</em> and <em>ordinal</em> variables, it is useful to store these variables as factors. Why?</p>

<ul>
  <li>Storing variables as factors will aid in the analysis process, as the correct number of degrees of freedom will be assigned (<a href="http://www.ats.ucla.edu/stat/r/modules/factor_variables.htm">source</a>).</li>
  <li>Storing string variables as factors is more efficient memory-wise (<a href="http://www.ats.ucla.edu/stat/r/modules/factor_variables.htm">source</a>).</li>
</ul>

<p>Nominal variables are categorical but have no order to them, such as:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">car_makes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Subaru'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Honda'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Toyota'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Ford'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Chevy'</span><span class="p">)</span><span class="w">
</span><span class="n">car_makes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">car_makes</span><span class="p">)</span><span class="w">
</span><span class="n">str</span><span class="p">(</span><span class="n">car_makes</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##  Factor w/ 5 levels "Chevy","Ford",..: 4 3 5 2 1</code></pre></figure>

<p>You might have your personal preference to which car manufacturer is better than the other, but it isn’t <em>implied</em>.</p>

<p>For ordinal variables, on the other hand, order is implied. For example:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">wait_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Very Poor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Poor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Fair'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Good'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Very Good'</span><span class="p">)</span><span class="w">
</span><span class="n">wait_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">wait_time</span><span class="p">,</span><span class="w"> </span><span class="n">order</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">str</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##  Ord.factor w/ 5 levels "Fair"&lt;"Good"&lt;..: 5 3 1 2 4</code></pre></figure>

<p>Notice how R recognizes that this variable is ordered. However, the order it assigns by default is alphabetically. Thus, the implied order is <em>Fair</em>, <em>Good</em>, <em>Poor</em>, <em>Very Good</em>, <em>Very Poor</em>. To set the order that is intuitive to us:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">wait_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Very Poor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Poor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Fair'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Good'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Very Good'</span><span class="p">)</span><span class="w">
</span><span class="n">wait_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">factor</span><span class="p">(</span><span class="n">wait_time</span><span class="p">,</span><span class="w"> </span><span class="n">order</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">,</span><span class="w"> </span><span class="n">levels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Very Poor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Poor'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Fair'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Good'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Very Good'</span><span class="p">))</span><span class="w">
</span><span class="n">str</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##  Ord.factor w/ 5 levels "Very Poor"&lt;"Poor"&lt;..: 1 2 3 4 5</code></pre></figure>

<p>Now R recognizes the proper order of this ordinal variable, with <em>Very Poor</em> being the worst and <em>Very Good</em> being the best.</p>

<h2 id="lists-and-dictionaries">Lists and Dictionaries</h2>

<p>See RIA 30</p>

<p>Lists are handy in that you can throw anything in them. Be it a matrix, string, data frame, whatever. If it is an R object, it can go in a list. I like to use these akin to python dictionaries. Here is how we would set a dictionary-like list up:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">subaru.costs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">Forester</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">25450</span><span class="p">,</span><span class="w"> </span><span class="n">Impreza</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">33900</span><span class="p">,</span><span class="w"> </span><span class="n">Legacy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">23000</span><span class="p">)</span><span class="w">
</span><span class="n">subaru.costs</span><span class="o">$</span><span class="n">Forester</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 25450</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">subaru.costs</span><span class="p">[[</span><span class="s1">'Impreza'</span><span class="p">]]</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## [1] 33900</code></pre></figure>

<p>Note how you can reference items in a list in different ways. You can also compose lists of lists, which is really helpful in large R scripts and in loops through different keys.</p>

<h2 id="reading-data-into-r">Reading Data Into R</h2>

<p>See RIA 34</p>

<p>I typically use the <em>read.csv()</em> function to get data into R so I can start analyzing it. Here are some useful options to use with the <em>read.csv()</em> function:</p>

<table>
  <thead>
    <tr>
      <th>Option</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>sep</em></td>
      <td>The delimeter that separates data values. Default is <em>sep=’,’</em>, but it can be changed to fit needs.</td>
    </tr>
    <tr>
      <td><em>na.strings</em></td>
      <td>Specify the missing values in the data file, ex. <em>na.strings=c(-99999)</em>.</td>
    </tr>
    <tr>
      <td><em>colClasses</em></td>
      <td>Explicitly state the class of each column (numeric, character, factor, integer).</td>
    </tr>
    <tr>
      <td><em>skip</em></td>
      <td>Number of lines at the top of the file to skip, useful for skipping comments in the file.</td>
    </tr>
    <tr>
      <td><em>stringsAsFactors</em></td>
      <td>Indiciates whether to convert string variables to factors. The default is <strong>TRUE</strong>, so make sure to set to <strong>FALSE</strong> if you do not want a column of strings converted to factors. Setting to <strong>FALSE</strong> can really speed up processing time for large files.</td>
    </tr>
  </tbody>
</table>

<h2 id="grabbing-data-from-the-web">Grabbing data from the web</h2>

<p>See RIA 38</p>

<p>Lot’s of APIs exist to interact with specific web interfaces, such as:</p>

<ul>
  <li><a href="https://cran.r-project.org/web/packages/twitteR/twitteR.pdf">twitteR</a>
    <ul>
      <li><a href="http://bigcomputing.blogspot.com/2016/02/the-twitter-r-package-by-jeff-gentry-is.html">Setting up account</a></li>
      <li><a href="https://www.youtube.com/watch?v=8mSmK3Pid7w">YouTube example</a></li>
      <li><a href="http://davetang.org/muse/2013/04/06/using-the-r_twitter-package/">Web example 1</a></li>
      <li><a href="http://www.r-datacollection.com/blog/TwitteR2Mongo/">Web example 2</a></li>
    </ul>
  </li>
  <li><a href="https://cran.r-project.org/web/packages/Rfacebook/Rfacebook.pdf">RFacebook</a>
    <ul>
      <li><a href="http://thinktostart.com/analyzing-facebook-with-r/">Web example</a></li>
    </ul>
  </li>
</ul>

<p>There are a lot more packages that work with specific web APIs. A full list can be found <a href="https://cran.r-project.org/web/views/WebTechnologies.html">here</a>.</p>

<h1 id="working-with-data-frames">Working with Data Frames</h1>

<h2 id="aggregate">Aggregate</h2>

<p>The <em>aggregate()</em> function allows you to collapse a data frame by certain variables and apply a certain function. The general usage is:</p>

<p><em>aggregate(var1 ~ var2 + var3, data=mydata, FUN=function_to_apply)</em></p>

<p>For instance, let’s say we have some data about car prices. As you can see below, there are multiple entries for some makes of cars:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">car.makes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Subaru'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Subaru'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Ford'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Toyota'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Ford'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Subaru'</span><span class="p">)</span><span class="w">
</span><span class="n">car.models</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Forester'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Impreza'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Focus'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Camry'</span><span class="p">,</span><span class="w"> </span><span class="s1">'F150'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Forester'</span><span class="p">)</span><span class="w">
</span><span class="n">car.prices</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">24500</span><span class="p">,</span><span class="w"> </span><span class="m">34900</span><span class="p">,</span><span class="w"> </span><span class="m">18000</span><span class="p">,</span><span class="w"> </span><span class="m">21750</span><span class="p">,</span><span class="w"> </span><span class="m">27300</span><span class="p">,</span><span class="w"> </span><span class="m">23000</span><span class="p">)</span><span class="w">
</span><span class="n">df</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">Make</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">car.makes</span><span class="p">,</span><span class="w"> </span><span class="n">Model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">car.models</span><span class="p">,</span><span class="w"> </span><span class="n">Price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">car.prices</span><span class="p">)</span><span class="w">
</span><span class="n">df</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##     Make    Model Price
## 1 Subaru Forester 24500
## 2 Subaru  Impreza 34900
## 3   Ford    Focus 18000
## 4 Toyota    Camry 21750
## 5   Ford     F150 27300
## 6 Subaru Forester 23000</code></pre></figure>

<p>If we wanted to have a dataframe that average the price for each make, we can use the aggregate function to do this:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">df.agg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aggregate</span><span class="p">(</span><span class="n">Price</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Make</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">FUN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">)</span><span class="w">
</span><span class="n">df.agg</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##     Make    Price
## 1   Ford 22650.00
## 2 Subaru 27466.67
## 3 Toyota 21750.00</code></pre></figure>

<p>Now we can see the average price for each make of car. You’ll notice that <em>Model</em> no longer exists in the dataframe. We asked R to average the price for each make of car. If we want R to average the price for each make <em>and</em> model, we can do this:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">df.agg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aggregate</span><span class="p">(</span><span class="n">Price</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">Make</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Model</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">FUN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">)</span><span class="w">
</span><span class="n">df.agg</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##     Make    Model Price
## 1 Toyota    Camry 21750
## 2   Ford     F150 27300
## 3   Ford    Focus 18000
## 4 Subaru Forester 23750
## 5 Subaru  Impreza 34900</code></pre></figure>

<p>The only model in <em>df</em> that had two entries was the Subaru Forester, so that is the only one that did any averaging.</p>

<p><strong>Note</strong>: the paramater <em>FUN</em> is extremely powerful! Not only can you specify <em>mean</em> or <em>sum</em>, but you can write you own user-specific function to be applied! See <a href="https://www.r-bloggers.com/aggregate-a-powerful-tool-for-data-frame-in-r/">here</a> for some pretty advanced examples.</p>

<h2 id="cbind-rbind-and-merge">cbind, rbind, and merge</h2>

<p><em>cbind()</em> and <em>rbind()</em> are functions that add more columns (variables) and rows (observations) to a dataframe. Going back to the car example, say that you have another variable with miles per gallong (mpg). It can be combined with the previous dataframe with <em>cbind()</em>:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">car.makes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Subaru'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Subaru'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Ford'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Toyota'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Ford'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Subaru'</span><span class="p">)</span><span class="w">
</span><span class="n">car.models</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Forester'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Impreza'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Focus'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Camry'</span><span class="p">,</span><span class="w"> </span><span class="s1">'F150'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Forester'</span><span class="p">)</span><span class="w">
</span><span class="n">car.mpg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">26</span><span class="p">,</span><span class="w"> </span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">31</span><span class="p">,</span><span class="w"> </span><span class="m">35</span><span class="p">,</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">)</span><span class="w">
</span><span class="n">df.2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">Make</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">car.makes</span><span class="p">,</span><span class="w"> </span><span class="n">Model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">car.models</span><span class="p">,</span><span class="w"> </span><span class="n">MPG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">car.mpg</span><span class="p">)</span><span class="w">
</span><span class="n">df.3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">df.2</span><span class="p">)</span><span class="w">
</span><span class="n">df.3</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##     Make    Model Price   Make    Model MPG
## 1 Subaru Forester 24500 Subaru Forester  26
## 2 Subaru  Impreza 34900 Subaru  Impreza  22
## 3   Ford    Focus 18000   Ford    Focus  31
## 4 Toyota    Camry 21750 Toyota    Camry  35
## 5   Ford     F150 27300   Ford     F150  16
## 6 Subaru Forester 23000 Subaru Forester  25</code></pre></figure>

<p>Notice how the variable <em>MPG</em> has been added, but now <em>Make</em> and <em>Model</em> are in the dataframe <em>df.3</em> twice. This could be fixed by:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">df.3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">df.2</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s1">'Make'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Model'</span><span class="p">))</span><span class="w">
</span><span class="n">df.3</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##     Make    Model Price MPG
## 1   Ford     F150 27300  16
## 2   Ford    Focus 18000  31
## 3 Subaru Forester 24500  26
## 4 Subaru Forester 24500  25
## 5 Subaru Forester 23000  26
## 6 Subaru Forester 23000  25
## 7 Subaru  Impreza 34900  22
## 8 Toyota    Camry 21750  35</code></pre></figure>

<p>Now notice how we have duplicate entries for Subaru Forester. That is because both dataframes have two entries, so each Subaru Forester entry for <em>MPG</em> in the <em>df.2</em> gets applied to <em>df</em>. One way to get around this is to make sure the two dataframes you are merging have observations in the <strong>exact</strong> same order, and apply a simpler form of <em>cbind()</em>:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">car.mpg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="m">26</span><span class="p">,</span><span class="w"> </span><span class="m">22</span><span class="p">,</span><span class="w"> </span><span class="m">31</span><span class="p">,</span><span class="w"> </span><span class="m">35</span><span class="p">,</span><span class="w"> </span><span class="m">16</span><span class="p">,</span><span class="w"> </span><span class="m">25</span><span class="p">)</span><span class="w">
</span><span class="n">df.2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data.frame</span><span class="p">(</span><span class="n">MPG</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">car.mpg</span><span class="p">)</span><span class="w">
</span><span class="n">df.3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cbind</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="w"> </span><span class="n">df.2</span><span class="p">)</span><span class="w">
</span><span class="n">df.3</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##     Make    Model Price MPG
## 1 Subaru Forester 24500  26
## 2 Subaru  Impreza 34900  22
## 3   Ford    Focus 18000  31
## 4 Toyota    Camry 21750  35
## 5   Ford     F150 27300  16
## 6 Subaru Forester 23000  25</code></pre></figure>

<h2 id="subsettingselecting-observations-and-rows">Subsetting/Selecting observations and rows</h2>

<h2 id="removing-dataframes">Removing dataframes</h2>

<p>The <em>rm()</em> function removes an object from the working environment, freeing up memory. Below, if I uncommented <em>df.2</em> we would get an error because R would not be able to find <em>df.2</em> to print it.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">rm</span><span class="p">(</span><span class="n">df.2</span><span class="p">)</span><span class="w">
</span><span class="err">#</span><span class="w"> </span><span class="n">df.2</span><span class="w"> </span></code></pre></figure>

<h1 id="graphing">Graphing</h1>

<h2 id="save-a-plot-to-disk">Save a plot to disk</h2>

<p>The following saves the file <a href="price_vs_mpg.png"><em>price_vs_mpg.png</em></a> to the current working directory. In place of <em>png()</em>, the functions <em>pdf()</em>, <em>jpeg()</em>, <em>tiff()</em>, etc. can be used.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">png</span><span class="p">(</span><span class="s1">'price_vs_mpg.png'</span><span class="p">)</span><span class="w">
</span><span class="n">plot</span><span class="p">(</span><span class="n">df.3</span><span class="o">$</span><span class="n">Price</span><span class="p">,</span><span class="w"> </span><span class="n">df.3</span><span class="o">$</span><span class="n">MPG</span><span class="p">)</span><span class="w">
</span><span class="n">dev.off</span><span class="p">()</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## quartz_off_screen 
##                 2</code></pre></figure>

<h1 id="rmarkdown">RMarkdown</h1>

<p>RStudio has produced an excellent <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">cheat sheet</a> which I reference often. No need to duplicate the awesome work they already did.</p>

</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

  </body>
</html>
